<!DOCTYPE html>
<html>
<head><title>Register</title></head>
<body>
<h2>Register</h2>
<form id="reg">
<input name="emailid" placeholder="Email"><br>
<input name="username" placeholder="Username"><br>
<input name="password" type="password" placeholder="Password"><br>
<select name="type">
<option value="user">User</option>
<option value="admin">Admin</option>
</select><br>
<button type="submit">Register</button>
</form>
<script>
document.getElementById("reg").addEventListener("submit", async (e)=>{
e.preventDefault();
let data = {
emailid: e.target.emailid.value,
username: e.target.username.value,
password: e.target.password.value,
type: e.target.type.value
};
let res = await fetch("/register", {method:"POST", headers:{"Content-Type":"application/json"}, body:JSON.stringify(data)});
alert("Registration submitted");
window.location.href = "/";
});
</script>
</body>
</html>